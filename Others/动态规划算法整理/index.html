<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动态规划 | Hertz&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Hertz's Blog By VuePress">
    
    <link rel="preload" href="/VuePressBlogHtml/assets/css/0.styles.7994d51b.css" as="style"><link rel="preload" href="/VuePressBlogHtml/assets/js/app.a22e24ce.js" as="script"><link rel="preload" href="/VuePressBlogHtml/assets/js/2.273354d5.js" as="script"><link rel="preload" href="/VuePressBlogHtml/assets/js/30.030ded92.js" as="script"><link rel="preload" href="/VuePressBlogHtml/assets/js/17.398b5375.js" as="script"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/10.2906bcb7.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/11.44da5627.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/12.603be071.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/13.bbb59baa.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/14.37104393.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/15.622f6d38.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/16.e98dda23.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/18.87fb9473.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/19.35af09b5.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/20.0860f27f.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/21.80170eb6.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/22.32e3b412.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/23.71a3bc07.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/24.92a37d9c.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/25.6c06b0ec.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/26.56de950a.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/27.389f6e4c.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/28.93cf295c.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/29.8299c662.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/3.82a8b2ed.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/31.37328e23.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/32.33720530.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/33.dbf791bd.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/34.3f59d278.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/35.4db82d0c.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/36.993714ab.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/37.d14d1abc.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/38.5d2531bd.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/39.04716fa1.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/4.89240616.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/40.af165ce2.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/41.be41ee81.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/42.9d0cef92.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/43.d679c459.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/44.d12455da.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/45.50996042.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/46.4ae0dc93.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/47.297e0925.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/48.0b5098bb.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/49.2331b452.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/5.7f54006c.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/50.ed621c31.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/51.ffa15a18.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/52.f023092e.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/53.dcf36f26.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/54.d2f28937.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/55.8d4c4343.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/56.bf7841ef.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/57.0cf87538.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/58.a33d519a.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/59.100761af.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/6.583fbbc7.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/60.2547a25b.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/61.0a622c79.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/62.8bdae0f0.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/63.ae32cec9.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/64.3f841214.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/65.9967bc83.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/66.2b33b58e.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/67.5183b069.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/68.ac765712.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/69.278cdc53.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/7.d3e576f7.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/70.1f5428d0.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/71.44ee8fdb.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/72.4c087926.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/73.2c3e7645.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/74.e2a67ac9.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/8.d70fcbe5.js"><link rel="prefetch" href="/VuePressBlogHtml/assets/js/9.59956eee.js">
    <link rel="stylesheet" href="/VuePressBlogHtml/assets/css/0.styles.7994d51b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuePressBlogHtml/" class="home-link router-link-active"><!----> <span class="site-name">Hertz's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuePressBlogHtml/FrontEnd/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/VuePressBlogHtml/BackEnd/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/VuePressBlogHtml/GIS/" class="nav-link">
  GIS
</a></div><div class="nav-item"><a href="/VuePressBlogHtml/Others/" class="nav-link router-link-active">
  其他
</a></div><div class="nav-item"><a href="https://github.com/Hertz9409" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/VuePressBlogHtml/FrontEnd/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/VuePressBlogHtml/BackEnd/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/VuePressBlogHtml/GIS/" class="nav-link">
  GIS
</a></div><div class="nav-item"><a href="/VuePressBlogHtml/Others/" class="nav-link router-link-active">
  其他
</a></div><div class="nav-item"><a href="https://github.com/Hertz9409" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/VuePressBlogHtml/Others/VuePress%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%92%8CTravisCI%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" class="sidebar-link">VuePress博客部署和TravisCI持续集成</a></li><li><a href="/VuePressBlogHtml/Others/WIN10-FLASH-DEBUGGER-FOR-IE/" class="sidebar-link">WIN10-FLASH-DEBUGGER-FOR-IE</a></li><li><a href="/VuePressBlogHtml/Others/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1/" class="sidebar-link">代理服务</a></li><li><a href="/VuePressBlogHtml/Others/%E4%BD%BF%E7%94%A8icomoon%E7%94%9F%E6%88%90%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87%E6%96%87%E4%BB%B6/" class="sidebar-link">使用icomoon生成字体图标文件</a></li><li><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/" aria-current="page" class="active sidebar-link">动态规划算法整理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#问题引入" class="sidebar-link">问题引入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#优化" class="sidebar-link">优化</a></li></ul></li><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#动态规划-2" class="sidebar-link">动态规划</a></li><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#背包问题" class="sidebar-link">背包问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#_01背包问题" class="sidebar-link">01背包问题</a></li><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#完全背包问题" class="sidebar-link">完全背包问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/VuePressBlogHtml/Others/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/VuePressBlogHtml/Others/%E5%AE%9E%E6%96%BD%E7%9B%91%E7%9D%A3%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%8E%A5%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF%E5%B9%B3%E5%8F%B0%E7%BB%9F%E4%B8%80%E7%99%BB%E5%BD%95/" class="sidebar-link">实施监督系统对接基础信息平台统一登录</a></li><li><a href="/VuePressBlogHtml/Others/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" class="sidebar-link">设计模式-创建型模式</a></li><li><a href="/VuePressBlogHtml/Others/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/" class="sidebar-link">设计模式-结构型模式</a></li><li><a href="/VuePressBlogHtml/Others/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" class="sidebar-link">设计模式-行为型模式</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="动态规划"><a href="#动态规划" class="header-anchor">#</a> 动态规划</h1> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>前两天刷掘金的时候看到一篇讲解动态规划算法的文章,讲的还不错,所以也就萌生了自己总结一篇文章的想法.其实现在程序员面试,很大的概率会考动态规划算法,主要是因为像排序算法或二叉树搜索这些算法,可以通过记忆背诵来应付过面试,但动态规划问题大概率是不行的,在没有理解算法思想的前提下,我们是没办法应对那些千变万化的题目的,著名的刷题网站leetcode上,动态规划分类的题目有数百道之多,充分说明了这个算法的重要性和难度.</p> <p>掘金上有一篇通过漫画形式讲解动态规划的文章,推荐<a href="https://juejin.im/post/5a29d52cf265da43333e4da7" target="_blank" rel="noopener noreferrer">阅读<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,我也会在此基础上进行总结.</p> <h2 id="问题引入"><a href="#问题引入" class="header-anchor">#</a> 问题引入</h2> <p>我们从经典的爬楼梯问题开始讲起,leetcode上有这样一道<a href="https://leetcode-cn.com/problems/climbing-stairs/" target="_blank" rel="noopener noreferrer">题目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><img src="/VuePressBlogHtml/assets/img/image-20200603164616104.f5627e86.png" alt="image-20200603164616104"></p> <p>我们最先想到的就是暴力枚举,通过排列组合,列出所有的情况,但是这是最笨的办法.</p> <p>首先,我们假设n=5,那么我们只走一步就到达第五级阶梯有几种情况:1.现在在第三级阶梯,走两步到达,2现在在第四级阶梯,走一步到达.</p> <p>此时,我们假设走到第三级阶梯的方法有F(3)种,走到第四级阶梯的方法有F(4)种,那么走到第五级阶梯的方法有多少种呢?答案是F(3)+F(4).</p> <p>所以F(5)=F(3)+F(4);依次类推,我们就得出了F(4)=F(3)+F(2);F(3)=F(2)+F(1),而F(2)=2;F(1)=1.这个时候,我们就找到了计算规律,可以通过递归来实现计算.</p> <p>直接上代码,n代表目标台阶.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果我们将这段代码提交到leetcode,会提示说超时,这说明我们这段代码执行时间太久,时间复杂度太高.</p> <p>由于此算法是递归算法,当前值由前两个值计算获得,所以可以看作是一个树形递归,时间复杂度为O(2^n),n越大,时间复杂度成指数级增长.</p> <h3 id="优化"><a href="#优化" class="header-anchor">#</a> 优化</h3> <p>常见的优化方案中,如果时间复杂度高,第一想到的就是以空间换时间的方案.</p> <p>通过观察会发现,这个递归算法和斐波那契数列类似,而优化斐波那契数列的一个方法就是将已经计算过的数据保存下来,避免重复计算,对上面的代码进行改造.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tempObj<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span>
    	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>tempObj<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> tempObj<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> tempValue <span class="token operator">=</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	tempObj<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> tempValue<span class="token punctuation">;</span>
        	<span class="token keyword">return</span> tempValue
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tempObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此时,重新提交代码后,测试通过,但是在执行时间上还是比较慢,而在内存占用上成绩很差.由于我们以空间换时间,从而造成了内存的浪费.建立缓存后,不需要重复计算,我们的时间复杂度降低到了O(n).</p> <p>既然我们已经想到了这个问题和斐波那契数列类似,那为什么不更进一步呢</p> <p>上面我们都是通过递归来从大到小得计算,这会导致时间复杂度和空间复杂度都急剧上升,由于当前值是和前两个值有关联的,那我们为什么不从小到大开始计算,通过循环,正向执行呢.</p> <p>直接上代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">return</span> arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>再进一步,我们只需要保存当前值的前两个值就可以了,没必要保存所有的值.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">climb_Stairs</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> first <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> second <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
        first <span class="token operator">=</span> second<span class="token punctuation">;</span>
        second <span class="token operator">=</span> temp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">return</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">climb_Stairs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此时,我们时间复杂度降为O(n),空间复杂度降为O(1).</p> <p>通过一步步的优化,我们成功得解决了问题,并在算法时间复杂度和空间复杂度上做到了尽量最优.</p> <p>在优化过程中,将递归计算转换为正向循环计算,其实就是动态规划思想的体现.</p> <h2 id="动态规划-2"><a href="#动态规划-2" class="header-anchor">#</a> 动态规划</h2> <p>动态规划(Dynamic Programming,简称DP)是一种在数学,管理科学,计算机科学,经济学和生物信息学中使用的,<code>通过把原问题分解为相对简单的子问题的方式求解复杂问题的方法</code>.</p> <p>动态规划适用于有<code>重叠子问题</code>和<code>最优子结构</code>性质的问题,动态规划方法所耗时间往往少于朴素解法.它将问题重新组合成子问题,为避免多次解决这些子问题,它们的结果都逐渐被计算并保存,从简单的问题开始,直到整个问题被解决.</p> <p>动态规划中,有三个重要的概念: 最优子结构, 边界, 状态转移公式.</p> <p><code>最优子结构</code>是指局部最优解能决定全局最优解,简单说就是问题能够分解成子问题解决.</p> <p>上面的例子中,最优子结构就是F(10)=F(9)+F(8);即上10个台阶的方法等于上9个台阶和上9个台阶的总和.而边界就是F(1)=1;F(2)=2.最重要的状态转移方程则是F(n)=F(n-1)+F(n-2).获得了状态转移方程后,我们就可以很快的写出动态规划的代码,同时要注意处理边界情况和记录缓存避免重复计算.</p> <h2 id="背包问题"><a href="#背包问题" class="header-anchor">#</a> 背包问题</h2> <p>接下来,介绍下动态规划算法最经典的应用--背包问题</p> <p>背包问题可描述为: 给定一组物品,每种物品都有自己的重量和价格,在限定的总重量内,我们如何选择,才能使得物品的总价格最高.</p> <p>背包问题存在9种类型的变种问题,这篇文章不会将所有的问题都记录下来,有兴趣的可以查看这篇<a href="https://www.cnblogs.com/jbelial/articles/2116074.html" target="_blank" rel="noopener noreferrer">博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,讲解非常详细.</p> <h3 id="_01背包问题"><a href="#_01背包问题" class="header-anchor">#</a> 01背包问题</h3> <p>题目: 有<code>N</code>件物品(每个物品只有1件)和一个容量为<code>W</code>的背包,第<code>i</code>件物品的重量为<code>weight[i]</code>,价值为<code>value[i]</code>.求解将哪些物品装入背包,可使这些物品的容量总和不超过背包容量,且价值总和最大.</p> <p>01背包问题是最基础的背包问题,特点就是每种物品仅有一件,可以选择放或不放.</p> <h4 id="解题思路"><a href="#解题思路" class="header-anchor">#</a> 解题思路</h4> <p>首先按照惯例,我们先分析最优子结构.</p> <p>定义 <code>f[i][W]</code>表示前<code>i</code>件物品恰好放入一个容量为<code>W</code>的背包可以获得最大价值,那么对于前<code>i-1</code>件物品,存在两种情况: 第<code>i</code>件物品没放进去了,那么最大价值为<code>f[i-1][W]</code>;如果第<code>i</code>件物品放进去了,那么最大价值就可以表示为<code>f[i-1][W-weight[i]]+value[i]</code>.此时,我们就可以确定这个问题的状态转移方程<code>f[i][v]=max(f[i-1][W], f[i-1][W-weight[i]]+value[i])</code>.</p> <p>明确状态转移方程后,我们来思考它的边界问题.<code>f[i][0]=0</code>:容量为0的背包,总价值自然是0;还有,当<code>weight[i]&gt;W</code>时,即第i个物品的重量比背包容量还大的话,那么第<code>i</code>件物品是一定放不进去的,此时<code>f[i][W]=f[i-1][W]</code>.</p> <p>依然从暴力枚举开始上代码:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token constant">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token constant">W</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>widget<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token constant">N</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>网上关于01背包问题的文章,都会讲到一个优化,即将第二层循环反过来,实现二维数组降为一维数组,节省空间,那具体是怎么实现的呢?看一个例子.</p> <h5 id="_01背包问题样例分析"><a href="#_01背包问题样例分析" class="header-anchor">#</a> 01背包问题样例分析</h5> <p>问题描述: 有编号a,b,c,d,e五件物品,重量分别为2,2,6,5,4,价值分别为6,3,5,4,6;现在有一个承重为10的背包,如何让背包内装入的物品具有最大价值总和?</p> <p>我们通过表格穷举出所有可能的情况:</p> <table><thead><tr><th style="text-align:center;">物品</th> <th style="text-align:center;">重量</th> <th style="text-align:center;">价值</th> <th style="text-align:center;">1</th> <th style="text-align:center;">2</th> <th style="text-align:center;">3</th> <th style="text-align:center;">4</th> <th style="text-align:center;">5</th> <th style="text-align:center;">6</th> <th style="text-align:center;">7</th> <th style="text-align:center;">8</th> <th style="text-align:center;">9</th> <th style="text-align:center;">10</th></tr></thead> <tbody><tr><td style="text-align:center;">a</td> <td style="text-align:center;">2</td> <td style="text-align:center;">6</td> <td style="text-align:center;">0</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td></tr> <tr><td style="text-align:center;">b</td> <td style="text-align:center;">2</td> <td style="text-align:center;">3</td> <td style="text-align:center;">0</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td></tr> <tr><td style="text-align:center;">c</td> <td style="text-align:center;">6</td> <td style="text-align:center;">5</td> <td style="text-align:center;">0</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">11</td> <td style="text-align:center;">11</td> <td style="text-align:center;">14</td></tr> <tr><td style="text-align:center;">d</td> <td style="text-align:center;">5</td> <td style="text-align:center;">4</td> <td style="text-align:center;">0</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">10</td> <td style="text-align:center;">11</td> <td style="text-align:center;">13</td> <td style="text-align:center;">14</td></tr> <tr><td style="text-align:center;">e</td> <td style="text-align:center;">4</td> <td style="text-align:center;">6</td> <td style="text-align:center;">0</td> <td style="text-align:center;">6</td> <td style="text-align:center;">6</td> <td style="text-align:center;">9</td> <td style="text-align:center;">9</td> <td style="text-align:center;">12</td> <td style="text-align:center;">12</td> <td style="text-align:center;">15</td> <td style="text-align:center;">15</td> <td style="text-align:center;">15</td></tr></tbody></table> <p>上方的表格穷举了所有的情况,然后我们根据状态转移方程<code>f[i][v]=max(f[i-1][W], f[i-1][W-weight[i]]+value[i])</code>会发现,对于<code>f[b][8]</code>值,它所有的计算结果都来自于<code>f[a][1-8]</code>,即我们只需要保存一组数据,然后在计算第二组数据时,从后往前计算并不断替换数组中已经计算过的值,我们在优化后的一维数组之间增加了一块隔板,隔板左侧为上次循环计算的<code>f[a][1-8]</code>,隔板右侧为当前反向循环计算的<code>f[b][9-10]</code>,并且通过反向循环,利用隔板左侧的值计算出隔板右侧的值,并替换旧值,同时左移隔板,最终实现通过一个一维数组计算出<code>f[N][W]</code>.</p> <p>明确了这一规律后,我们再观察背包问题的双层循环代码,就能很简单得进行优化了,直接上代码:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token constant">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token constant">W</span><span class="token punctuation">;</span>j<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>widget<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 简洁版</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token constant">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token constant">W</span><span class="token punctuation">;</span>j<span class="token operator">&gt;=</span>widget<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>至此,01背包问题完全解决并优化,利用动态规划得思想,我们将一个大问题分解为一个个得重叠子问题,并通过状态转移方程,以小见大,一步步求出最终得解.</p> <p>同时,我们也可得出一个简单得规律,动态规划问题有两种思路: 一种是由大到小,自上而下进行递归计算,此方法需要注意缓存,防止重复计算,第二种是由小到大,自下而上进行循环计算,此方法在处理一些动态规划问题时,优势更大.</p> <h3 id="完全背包问题"><a href="#完全背包问题" class="header-anchor">#</a> 完全背包问题</h3> <p><code>背包问题一共存在9种类型的题目,本篇文章主要是为了理解动态规划思想,并不准备将所有得背包问题都总结,后续可以单独出一篇背包问题的文章.</code></p> <p>题目: 有<code>N</code>件物品(每个物品有无线多个)和一个容量为<code>W</code>的背包,第<code>i</code>件物品的重量为<code>weight[i]</code>,价值为<code>value[i]</code>.求解将哪些物品装入背包,可使这些物品的容量总和不超过背包容量,且价值总和最大.</p> <p>完全背包问题和01背包问题的不同就是物品无限个.</p> <p>老规矩,依然先寻找问题的状态转移方程.定义 <code>f[i][W]</code>表示前<code>i</code>件物品放入一个容量为<code>W</code>的背包可以获得最大价值,对于第<code>i</code>件物品,我们有<code>k</code>种选择,其中<code>0&lt;=k*weight[i]&lt;=W</code>,即可以选择<code>0,1,2,3...k</code>件第<code>i</code>件物品.所以状态转移方程可以表示为</p> <p><code>f[i][W]=max(f[i-1][W] (不放第i种物品,k=0), f[i][W-k*weight[i]] + value[i]*k (至少放一件第i种物品,k&gt;=1)) (0&lt;=k*weight[i]&lt;=W)</code></p> <p>知道状态转移方程后,依然是先使用暴力枚举方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token constant">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token constant">W</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当k=0时</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 当k&gt;=1时</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> k<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>j<span class="token operator">/</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>k<span class="token operator">*</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> k<span class="token operator">*</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token constant">N</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们依然通过一个具体的例子画出表格来寻找优化思路</p> <p>问题描述: 有编号a,b,c,d,e五种物品(每种物品数量不限),重量分别为1,2,6,5,4,价值分别为1,3,5,4,6;现在有一个承重为10的背包,如何让背包内装入的物品具有最大价值总和?</p> <table><thead><tr><th style="text-align:center;">物品</th> <th style="text-align:center;">重量</th> <th style="text-align:center;">价值</th> <th style="text-align:center;">1</th> <th style="text-align:center;">2</th> <th style="text-align:center;">3</th> <th style="text-align:center;">4</th> <th style="text-align:center;">5</th> <th style="text-align:center;">6</th> <th style="text-align:center;">7</th> <th style="text-align:center;">8</th> <th style="text-align:center;">9</th> <th style="text-align:center;">10</th></tr></thead> <tbody><tr><td style="text-align:center;">a</td> <td style="text-align:center;">1</td> <td style="text-align:center;">1</td> <td style="text-align:center;">1</td> <td style="text-align:center;">2</td> <td style="text-align:center;">3</td> <td style="text-align:center;">4</td> <td style="text-align:center;">5</td> <td style="text-align:center;">6</td> <td style="text-align:center;">7</td> <td style="text-align:center;">8</td> <td style="text-align:center;">9</td> <td style="text-align:center;">10</td></tr> <tr><td style="text-align:center;">b</td> <td style="text-align:center;">2</td> <td style="text-align:center;">3</td> <td style="text-align:center;">1</td> <td style="text-align:center;">3</td> <td style="text-align:center;">4</td> <td style="text-align:center;">6</td> <td style="text-align:center;">7</td> <td style="text-align:center;">9</td> <td style="text-align:center;">10</td> <td style="text-align:center;">12</td> <td style="text-align:center;">13</td> <td style="text-align:center;">15</td></tr> <tr><td style="text-align:center;">c</td> <td style="text-align:center;">6</td> <td style="text-align:center;">5</td> <td style="text-align:center;">1</td> <td style="text-align:center;">3</td> <td style="text-align:center;">4</td> <td style="text-align:center;">6</td> <td style="text-align:center;">7</td> <td style="text-align:center;">9</td> <td style="text-align:center;">10</td> <td style="text-align:center;">12</td> <td style="text-align:center;">13</td> <td style="text-align:center;">15</td></tr> <tr><td style="text-align:center;">d</td> <td style="text-align:center;">5</td> <td style="text-align:center;">4</td> <td style="text-align:center;">1</td> <td style="text-align:center;">3</td> <td style="text-align:center;">4</td> <td style="text-align:center;">6</td> <td style="text-align:center;">7</td> <td style="text-align:center;">9</td> <td style="text-align:center;">10</td> <td style="text-align:center;">12</td> <td style="text-align:center;">13</td> <td style="text-align:center;">15</td></tr> <tr><td style="text-align:center;">e</td> <td style="text-align:center;">4</td> <td style="text-align:center;">7</td> <td style="text-align:center;">1</td> <td style="text-align:center;">3</td> <td style="text-align:center;">4</td> <td style="text-align:center;">7</td> <td style="text-align:center;">8</td> <td style="text-align:center;">10</td> <td style="text-align:center;">11</td> <td style="text-align:center;">14</td> <td style="text-align:center;">15</td> <td style="text-align:center;">17</td></tr></tbody></table> <p>对于<code>f[c][9]</code>,由于k取值问题,它和<code>f[b][9]</code>以及<code>f[c][1-8]</code>有关.</p> <p>类似于01背包问题的优化,我们也可以将完全背包问题以相似的思想来进行优化,只不过不同的是,对于01背包问题,<code>f[i][v]</code>是和<code>f[i-1][v-weight[i]]</code>相关的,而完全背包问题则不同,对于第i件物品,我们有多种选择,所以其实<code>f[i][v]</code>是和<code>f[i][v-k*weight[i]]</code>相关的.那么按照二维数组转一维数组的思路,我们得先计算出<code>f[i][1-v]</code>的结果,才能得出<code>f[i][v]</code>的结果,故此有如下优化:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token constant">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token constant">W</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上述代码中为什么可以省略k值,其实通过观察表格我们就可以发现,<code>f[e][10]</code>和<code>f[e][6]</code>有关,<code>f[e][6]</code>和<code>f[e][2]</code>有关,分别对应k=1和k=2的情况,而第二层关于j的循环都会覆盖到这种情况,所以没必要再保留对k的处理.</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>动态规划问题是一种特别难理解也特别难分析的问题,不过我们只要掌握一般的分析思路,遇到问题,还是会有办法下手的.</p> <p>一般如果是给出几个条件,然后求最大值或最优解的情况,这种就可以考虑是否可以使用动态规划的思想解题.</p> <p>而解题关键就在于寻求最优子结构,求得状态转移函数,一旦做到这一步,我们就可以通过暴力枚举先计算出几个简单的结果,由结果去推算规律,最终完成递归求解的算法,并进行时间和空间复杂度的优化.</p> <p>背包问题一共存在九种问题,本文只是分析了其中两种来举例说明了分析动态规划问题的方法,后续可以再写一篇文章具体分析背包问题.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/30/2020, 6:43:55 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/VuePressBlogHtml/assets/js/app.a22e24ce.js" defer></script><script src="/VuePressBlogHtml/assets/js/2.273354d5.js" defer></script><script src="/VuePressBlogHtml/assets/js/30.030ded92.js" defer></script><script src="/VuePressBlogHtml/assets/js/17.398b5375.js" defer></script>
  </body>
</html>
