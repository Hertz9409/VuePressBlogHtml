(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{447:function(v,_,t){v.exports=t.p+"assets/img/1.b86e3dc3.jpg"},448:function(v,_,t){v.exports=t.p+"assets/img/2.c4099d59.png"},449:function(v,_,t){v.exports=t.p+"assets/img/3.659a86f1.png"},450:function(v,_,t){v.exports=t.p+"assets/img/4.d5bb43be.png"},451:function(v,_,t){v.exports=t.p+"assets/img/5.1a3551b6.jpg"},531:function(v,_,t){"use strict";t.r(_);var a=t(27),i=Object(a.a)({},(function(){var v=this,_=v.$createElement,a=v._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h1",{attrs:{id:"代理定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理定义"}},[v._v("#")]),v._v(" 代理定义")]),v._v(" "),a("p",[v._v("代理(Proxy),是一种特殊的网络服务,允许一个网络终端通过这个服务与另一个网络终端进行非直接的连接.")]),v._v(" "),a("p",[v._v("提供代理服务的电脑系统或其他类型的网络终端称为代理服务器.\n一个完整的请求过程为:客户端首先与代理服务器建立连接,接着根据代理服务器所使用的代理协议,请求对目标服务器建立连接,或者获取目标服务器的指定资源.")]),v._v(" "),a("p",[v._v("代理服务器的基本行为就是接收客户端发送的请求后转发给其他服务器。代理不改变请求URI，会直接发送给前方持有资源的目标服务器。")]),v._v(" "),a("p",[v._v("持有资源实体的服务器被称为源服务器。从源服务器返回的响应经过代理服务器后再传给客户端。")]),v._v(" "),a("p",[a("img",{attrs:{src:t(447),alt:"代理服务示意图"}})]),v._v(" "),a("h1",{attrs:{id:"代理服务的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理服务的作用"}},[v._v("#")]),v._v(" 代理服务的作用")]),v._v(" "),a("p",[v._v("代理服务器的功能就是代理网络用户去取得网络信息,它是网络信息的中转站.它的主要功能有:")]),v._v(" "),a("ol",[a("li",[v._v("提高访问速度:通常代理服务器会设置一个缓冲区,当有外界信息通过时,同时也会将信息保存到缓冲区,当其他用户访问相同信息时,优先从缓冲区取出信息返回给用户,提高访问速度.")]),v._v(" "),a("li",[v._v("控制对内部资源的访问:常见的如外网访问政务网,代理服务器可以访问政务网资源,而外网可以访问代理服务器,这时就可以通过外网访问特定的政务网内容.")]),v._v(" "),a("li",[v._v("过滤内容: 限制对特定内容的访问,将一种语言翻译成另一种语言等.")]),v._v(" "),a("li",[v._v("隐藏真实IP: 客户端通过代理访问服务器,服务器只能获取代理的ip.")]),v._v(" "),a("li",[v._v("突破IP访问限制: 访问国外站点等.")]),v._v(" "),a("li",[v._v("设置用户验证和记账功能: 针对登记用户进行访问时间,访问地点,信息流量的统计,如常见的按流量收费的vpn.")]),v._v(" "),a("li",[v._v("对用户进行分级管理,设置不同用户的访问权限.")]),v._v(" "),a("li",[v._v("连接内网与互联网,充当防火墙,同时内网用户使用本地IP地址,代理服务使用互联网IP,节约网上资源.")])]),v._v(" "),a("h1",{attrs:{id:"代理协议分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理协议分类"}},[v._v("#")]),v._v(" 代理协议分类")]),v._v(" "),a("ul",[a("li",[v._v("FTP代理服务器: 主要用于访问FTP服务器,一般有上传下载以及缓存功能")]),v._v(" "),a("li",[v._v("HTTP代理服务器: 用于访问网页,一般有内容过滤和缓存功能")]),v._v(" "),a("li",[v._v("SSL/TLS代理: 用于访问加密网站")]),v._v(" "),a("li",[v._v("RTSP代理: 用于Realplayer访问Real流媒体服务器，一般有缓存功能")]),v._v(" "),a("li",[v._v("POP3/SMTP代理: 用于POP3/SMTP方式收发邮件,一般有缓存功能")]),v._v(" "),a("li",[v._v("SOCKS代理: 单纯传递数据包,不关心具体协议和用法,速度快,一般有缓存功能")]),v._v(" "),a("li",[v._v("VPN代理: 在公共网路上建立专用网络的技术.节点之间没有物理链接,而是通过在公网建立逻辑隧道,利用加密和认证技术来保证用户数据安全传输来实现网络数据的专有.")]),v._v(" "),a("li",[v._v("反向代理: 代理服务接收互联网请求,将请求转发给内网服务器,并将从内网服务器得到的结果返回给互联网客户端,这时,代理服务器对外就表现为反向代理服务器.")])]),v._v(" "),a("h1",{attrs:{id:"arcgis代理服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arcgis代理服务"}},[v._v("#")]),v._v(" ArcGIS代理服务")]),v._v(" "),a("p",[v._v("arcgis官方提供了一个"),a("a",{attrs:{href:"https://github.com/Esri/resource-proxy",target:"_blank",rel:"noopener noreferrer"}},[v._v("代理服务"),a("OutboundLink")],1),v._v(" . 包含了DotNet,Java和PHP三个版本.")]),v._v(" "),a("p",[v._v("在什么情况下我们可以使用arcgis提供的代理服务:")]),v._v(" "),a("ul",[a("li",[v._v("当地图服务所在域与前端应用程序不在同一个域下,且不支持跨域资源共享(CORS)时.arcgis service默认开启CORS支持.")]),v._v(" "),a("li",[v._v("前端访问地图服务时使用Token令牌进行验证,但是不希望用户可以查看令牌或者令牌直接在应用服务器和用户之间通过网络传输时.")]),v._v(" "),a("li",[v._v("需要使用加密服务同时又不能明确应用程序信息时,可以将验证信息保存在代理服务中")]),v._v(" "),a("li",[v._v("当前端应用程序像地图服务器的请求超出了URL地址所允许的最大请求长度时,我们可以使用代理服务将get请求转换成post请求.不过这样一来,一些支持post请求的接口,我们可以在前端直接修改成post请求的方式")]),v._v(" "),a("li",[v._v("除上述不常遇到的情况外,最常见的是利用代理来打通内外网,从而实现外网可以通过代理服务来访问内网地图服务器,代理服务对应客户端和gis地图服务器都是可达的,至于客户端和地图服务器之间是否可达,则不需要考虑")]),v._v(" "),a("li",[v._v("公司最新产品,域管理代理又是一种新的应用,通过代理我们来拦截请求和返回结果,判断应用请求的权限,然后从地图服务器获取到结果后,根据权限来处理数据,将处理后的数据返回给客户端,这样就可以有效保护服务数据的安全性")])]),v._v(" "),a("p",[v._v("通过阅读Java版本的地图服务代理源码,我们可以发现其中两个非常重要的方法,这两个方法负责转发客户端请求给地图服务器和接收地图服务器返回结果并返回给客户端.")]),v._v(" "),a("p",[a("img",{attrs:{src:t(448),alt:"向地图服务器转发请求"}})]),v._v(" "),a("p",[v._v("目前Java版本的代理服务只支持转发get请求和post请求,不过已经完全够用.")]),v._v(" "),a("p",[a("img",{attrs:{src:t(449),alt:"向客户端返回参数"}})]),v._v(" "),a("p",[a("img",{attrs:{src:t(450),alt:"向客户端返回参数"}})]),v._v(" "),a("p",[v._v("ArcGIS提供的这个代理服务应该归类到反向代理中,客户端通过访问代理,代理服务从指定位置返回指定内容.")]),v._v(" "),a("h1",{attrs:{id:"nginx反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx反向代理"}},[v._v("#")]),v._v(" nginx反向代理")]),v._v(" "),a("p",[v._v("说到代理,那就不得不说最近很流行的nginx反向代理")]),v._v(" "),a("p",[v._v("首先区分一下正向代理和反向代理两个概念.")]),v._v(" "),a("p",[v._v("正向代理:  是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。")]),v._v(" "),a("p",[v._v("反向代理:  指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。")]),v._v(" "),a("p",[v._v("从概念上就可以知道反向代理的作用:")]),v._v(" "),a("ul",[a("li",[v._v("保证内网安全,反向代理可以拦截恶意请求")]),v._v(" "),a("li",[v._v("负载均衡,优化网站负载,动态分配请求")])]),v._v(" "),a("p",[a("img",{attrs:{src:t(451),alt:"正向代理和反向代理区别(知乎)"}})]),v._v(" "),a("p",[v._v("Nginx是一个高性能web和反向代理服务器:")]),v._v(" "),a("ul",[a("li",[v._v("作为Web服务器: 相比Apache, Nginx使用资源少,支持更高并发,最高支持50000个并发连接数响应.")]),v._v(" "),a("li",[v._v("可作为负载均衡服务器")]),v._v(" "),a("li",[v._v("可作为邮件代理服务器")]),v._v(" "),a("li",[v._v("配置简洁")]),v._v(" "),a("li",[v._v("处理静态请求优势明显,可以和Apache结合使用,一个处理静态请求,一个处理动态请求")])]),v._v(" "),a("p",[v._v("目前Nginx更多的是部署在Linux系统下,虽然有windows移植版,但是性能不如linux下的版本.")]),v._v(" "),a("p",[v._v("由于Nginx的高并发支持,现在更多的是使用Nginx来做负载均衡,配合一些官方或第三方开发的模块,如upstream模块,可以进行后端服务心跳检测和可用性检查.")]),v._v(" "),a("p",[v._v("淘宝团队在Nginx的基础上开发了"),a("a",{attrs:{href:"http://tengine.taobao.org/",target:"_blank",rel:"noopener noreferrer"}},[v._v("Tengine"),a("OutboundLink")],1),v._v(",针对大访问量网站,添加了很多功能和特性.")]),v._v(" "),a("p",[v._v("Nginx能讲的东西很多,本篇只先做简单介绍.")]),v._v(" "),a("h1",{attrs:{id:"空间域管理引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#空间域管理引擎"}},[v._v("#")]),v._v(" 空间域管理引擎")]),v._v(" "),a("p",[v._v("最后再讲讲公司计算团队开发的一个新的产品--空间域管理引擎.")]),v._v(" "),a("h3",{attrs:{id:"缘来"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缘来"}},[v._v("#")]),v._v(" 缘来")]),v._v(" "),a("ul",[a("li",[v._v("传统的Flex项目中,arcgis flex api支持mask蒙版效果,可以实现地图数据的可选择展示.")]),v._v(" "),a("li",[v._v("在arcgis js api中,受api限制,已经不再支持mask蒙版效果.")]),v._v(" "),a("li",[v._v("广州项目需求要求控制不同用户可查看的数据")]),v._v(" "),a("li",[v._v("flex项目虽然支持蒙版,但也只是界面展示上的效果,实际数据并没有受到控制,范围外的数据依然可以访问")])]),v._v(" "),a("h3",{attrs:{id:"实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[v._v("#")]),v._v(" 实现")]),v._v(" "),a("p",[v._v("空间域管理引擎目前基于.NET版本的arcgis 代理服务开发")])])}),[],!1,null,null,null);_.default=i.exports}}]);